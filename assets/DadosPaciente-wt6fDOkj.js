import{f as p,r as x,j as e}from"./index-BDI_6ICx.js";import{P as y,S as j,F as r,i as n,s as b,c as N}from"./ui-tNtznLMN.js";const I=s=>(s||"").replace(/\D/g,"");function A(s){const i=I(s).slice(0,8),u=i.slice(0,2),t=i.slice(2,4),g=i.slice(4,8);return[u,t,g].filter(Boolean).join("/")}function f(s,i=3){return I(s).slice(0,i)}function k(s,i=3,u=1){if(!s)return"";let t=String(s).replace(/[^\d,\.]/g,"").replace(/\./g,",");const g=t.indexOf(",");g!==-1&&(t=t.slice(0,g+1)+t.slice(g+1).replace(/,/g,""));let[c="",m=""]=t.split(",");return c=c.replace(/^0+(?=\d)/,""),c=c.slice(0,i),m=m.slice(0,u),m?`${c||"0"},${m}`:c}function v(s){return(s||"").toLowerCase().replace(/\s+/g," ").trim().replace(/(^|\s|[({["'-])([a-zà-ú])/g,(i,u,t)=>u+t.toUpperCase())}function E(){const s=p.getAll(),[i,u]=x.useState({nome:s.paciente.nome||"",asa:s.paciente.asa||"",idade:s.paciente.idade||"",peso:s.paciente.peso||"",altura:s.paciente.altura||"",urgencia:s.paciente.urgencia||"",alergias:s.paciente.alergias||""}),[t,g]=x.useState({hospital:s.cirurgia.hospital||"",data:s.cirurgia.data||"",inicio:s.cirurgia.inicio||"",fim:s.cirurgia.fim||"",procedimento:s.cirurgia.procedimento||"",cirurgiao:s.cirurgia.cirurgiao||"",anestesista:s.cirurgia.anestesista||""}),[c,m]=x.useState(!!s.intercorrencias.houve),[C,P]=x.useState(s.intercorrencias.texto||""),S=x.useMemo(()=>{const a=parseFloat(String(i.peso).replace(",",".")),l=parseFloat(String(i.altura).replace(",","."))/100;if(!a||!l)return"";const h=a/(l*l);return Number.isFinite(h)?h.toFixed(1):""},[i.peso,i.altura]),d=(a,l)=>{u(h=>({...h,[a]:l})),p.setPaciente({[a]:l})},o=(a,l)=>{g(h=>({...h,[a]:l})),p.setCirurgia({[a]:l})};return e.jsxs(y,{children:[e.jsx(j,{title:"Dados do Paciente",tone:"sky",children:e.jsxs("div",{className:"grid gap-4 sm:gap-6",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsx(r,{label:"Nome Completo",children:e.jsx("input",{className:n,placeholder:"Nome e sobrenome",value:i.nome,autoComplete:"name",onChange:a=>d("nome",a.target.value),onBlur:a=>{const l=v(a.target.value);d("nome",l)}})}),e.jsx(r,{label:"Classificação ASA",children:e.jsxs("select",{className:b,value:i.asa,onChange:a=>d("asa",a.target.value),children:[e.jsx("option",{value:"",children:"Selecione"}),["I","II","III","IV","V","VI"].map(a=>e.jsx("option",{children:`ASA ${a}`},a))]})})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-4",children:[e.jsx(r,{label:"Idade",children:e.jsx("input",{className:n,inputMode:"numeric",pattern:"\\d*",placeholder:"Anos",value:i.idade,maxLength:3,onChange:a=>d("idade",f(a.target.value,3))})}),e.jsx(r,{label:"Peso (kg)",children:e.jsx("input",{className:n,inputMode:"decimal",placeholder:"Ex.: 72,5",value:i.peso,onChange:a=>d("peso",k(a.target.value,3,1))})}),e.jsx(r,{label:"Altura (cm)",children:e.jsx("input",{className:n,inputMode:"numeric",pattern:"\\d*",placeholder:"Ex.: 175",value:i.altura,maxLength:3,onChange:a=>d("altura",f(a.target.value,3))})}),e.jsx(r,{label:"IMC",children:e.jsx("input",{readOnly:!0,value:S,className:"w-full rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-slate-700 shadow-inner"})})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsx(r,{label:"E (Urgência)",children:e.jsxs("select",{className:b,value:i.urgencia,onChange:a=>d("urgencia",a.target.value),children:[e.jsx("option",{value:"",children:"Selecione"}),e.jsx("option",{children:"E0 — Eletivo"}),e.jsx("option",{children:"E1 — Urgência"}),e.jsx("option",{children:"E2 — Emergência"})]})}),e.jsx(r,{label:"Alergias",children:e.jsx("input",{className:n,placeholder:"Descreva as alergias conhecidas",value:i.alergias,onChange:a=>d("alergias",a.target.value)})})]})]})}),e.jsx(j,{title:"Dados da Cirurgia",tone:"emerald",children:e.jsxs("div",{className:"grid gap-4 sm:gap-6",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsx(r,{label:"Clínica/Hospital",children:e.jsx("input",{className:n,placeholder:"Nome da clínica ou hospital",value:t.hospital,onChange:a=>o("hospital",a.target.value),onBlur:a=>o("hospital",v(a.target.value))})}),e.jsx(r,{label:"Data da Cirurgia",children:e.jsx("input",{className:n,inputMode:"numeric",placeholder:"dd/mm/aaaa",maxLength:10,value:t.data,onChange:a=>o("data",A(a.target.value))})})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[e.jsx(r,{label:"Hora de Início",children:e.jsx("input",{type:"time",className:n,value:t.inicio,onChange:a=>o("inicio",a.target.value)})}),e.jsx(r,{label:"Hora de Fim",children:e.jsx("input",{type:"time",className:n,value:t.fim,onChange:a=>o("fim",a.target.value)})}),e.jsx(r,{label:"Procedimento",children:e.jsx("input",{className:n,placeholder:"Descrição do procedimento",value:t.procedimento,onChange:a=>o("procedimento",a.target.value)})})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsx(r,{label:"Cirurgião",children:e.jsx("input",{className:n,placeholder:"Nome do cirurgião",value:t.cirurgiao,onChange:a=>o("cirurgiao",a.target.value),onBlur:a=>o("cirurgiao",v(a.target.value))})}),e.jsx(r,{label:"Anestesiologista",children:e.jsx("input",{className:n,placeholder:"Nome do anestesiologista",value:t.anestesista,onChange:a=>o("anestesista",a.target.value),onBlur:a=>o("anestesista",v(a.target.value))})})]})]})}),e.jsx(j,{title:"Intercorrências & Técnicas Anestésicas",tone:"sky",children:e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("label",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",className:N,checked:c,onChange:a=>{const l=a.target.checked;m(l),p.setIntercorrencias({houve:l,texto:l?C:""})}}),e.jsx("span",{className:"text-slate-700",children:"Houve intercorrências"})]}),e.jsx("div",{className:`transition-all duration-300 ${c?"opacity-100 translate-y-0 max-h-[320px]":"opacity-0 -translate-y-1 max-h-0 overflow-hidden pointer-events-none"}`,"aria-hidden":!c,children:e.jsx("textarea",{rows:4,className:`${n} h-auto`,placeholder:"Descreva aqui, se houver.",value:C,onChange:a=>{const l=a.target.value;P(l),p.setIntercorrencias({texto:l})}})}),e.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:["Geral Balanceada","Geral Venosa","Geral Inalatória","Sedação Consciente","Sedação Profunda","Raquianestesia","Peridural","Peridural Contínua","Bloqueio Regional","Bloqueio de Plexo","Bloqueio Periférico","Anestesia Combinada (Geral + Regional)","Anestesia Combinada (Raqui + Peridural)","Anestesia Local","Anestesia Tópica"].map(a=>e.jsxs("label",{className:"group flex items-center gap-3 rounded-xl border border-slate-200 bg-white p-3 shadow-sm hover:shadow-md hover:border-sky-200",children:[e.jsx("input",{type:"checkbox",className:N,defaultChecked:(s.tecnicas||[]).includes(a),onChange:()=>p.toggleTecnica(a)}),e.jsx("span",{className:"text-slate-700",children:a})]},a))})]})}),e.jsx(j,{title:"Monitorização",tone:"lavender",children:e.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:["ECG","Pressão Arterial","Oximetria de Pulso","Capnografia","Temperatura","BIS","TOF","Pressão Venosa Central"].map(a=>e.jsxs("label",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",className:N,defaultChecked:!!s.monitorizacao[a],onChange:l=>p.setMonitor(a,l.target.checked)}),e.jsx("span",{className:"text-slate-700",children:a})]},a))})})]})}export{E as default};
